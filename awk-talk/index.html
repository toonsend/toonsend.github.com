<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>AWK Talk</title>
<!-- metadata -->
<meta name="generator" content="S5" />
<meta name="version" content="S5 1.1" />
<meta name="presdate" content="20050728" />
<meta name="author" content="Eric A. Meyer" />
<meta name="company" content="Mobile Interactive Group" />
<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />
<!-- style sheet links -->
<link rel="stylesheet" href="ui/default/slides.css" type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/default/print.css" type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/default/opera.css" type="text/css" media="projection" id="operaFix" />
<!-- S5 JS -->
<script src="ui/default/slides.js" type="text/javascript"></script>
</head>
<body>

<div class="layout">
<div id="controls"><!-- DO NOT EDIT --></div>
<div id="currentSlide"><!-- DO NOT EDIT --></div>
<div id="header"></div>
<div id="footer">
<h1>London 12 May 2010</h1>
<h2>AWK Munch and Watch</h2>
</div>

</div>


<div class="presentation">

<div class="slide">
<h1>AWK Munch and Watch</h1>
<h2>Commanding the Orcs</h2>
<h3>David Townsend
<img width='200' height='200' src="images/orc.jpg"/></h3>
<h4>Mobile Interactive Group</h4>
</div>


<div class="slide">
<h1>Why?</h1>
<ul>
<li>Do you understand this?</li>
<pre>cat messages | awk '$13=="504" { split($3,hr,":"); print $1,$2,hr[1]}'</pre>
<pre> | uniq -c </pre>
<li>If the answer is yes or you don't want to know what it means this talk is not for you</li>
<li>At the end of the talk hopefully you'll be able to read that</li>
<li>You might want to look at the following files and play along</li>
<br/>
<a href='files/money.csv'>money.csv</a>
<br/>
and
<br/>
<a href='files/money.txt'>money.txt</a>
</ul>
</div>

<div class="slide">
<h1>Overview</h1>
<ul>
<li>AWK is a programming language</li>
<li>It is used for pattern matching file processing</li>
<li>AWK sees files as records (lines) and fields (columns)</li>
<li>You can split a record up with any seperator</li>
</ul>
</div>

<div class="slide">
<h1>Basics</h1>
<ul>
<li>The file is processed one line at a time, the awk command has an implicit FOR loop</li>
<pre>awk '{print}' money.txt - Prints every line</pre>
<pre>awk '{print $3}' money.txt - Prints the third column</pre>
<br/>
<h2>TRY IT</h2>
<li>Try printing the country</li>
<li>Try printing the country and the coin</li>
</ul>
</div>

<div class="slide">
<h1>Printing</h1>
<ul>
<li>A comma seperating the fields includes a space</li>
<pre>awk '{print $3,$4} money.txt</pre>
<li>What does this do?</li>
<pre>awk '{print $3,"$4"} money.txt</pre>
<br/>
<h2>TRY IT</h2>
<li>Print out country,coin</li>
</ul>
</div>

<div class="slide">
<h1>Filtering</h1>
<ul>
<pre>awk search pattern { program actions }</pre>
<li>A pattern can be any of the following</li>
<li>Regex</li>
<li>Relational Expression</li>
<li>Pattern Matching</li>
<li>BEGIN</li>
<li>END</li>
</ul>
</div>

<div class="slide">
<h1>Regex</h1>
<ul>
<pre>awk '/USA/ {print}' money.txt</pre>
<br/>
<h2>TRY IT</h2>
<li>Print the year from all coins from RSA</li>
</ul>
</div>


<div class="slide">
<h1>Relational Expressions</h1>
<ul>
<pre>awk '$4 == "USA" {print}' money.txt</pre>
<br/>
<h2>TRY IT</h2>
<li>Print all the coins where the value is less than 0.5</li>
<li>Print all the coins where the first year of manufacturer is equal to the coin's year</li>
</ul>
</div>

<div class="slide">
<h1>Pattern Matchin</h1>
<ul>
<pre>awk '$4 ~ /USA/ {print}' money.txt</pre>

<br/>
<h2>TRY IT</h2>
<li>Print all the coins where the country is not the usa</li>
</ul>
</div>

<div class="slide">
<h1>Begin AND End</h1>
<ul>
<pre>awk 'BEGIN{total=0} {total++} END{print total}' money.txt'</pre>
<br/>
<h2>TRY IT</h2>
<li>Print the total value of all the coins</li>
<li>Print the oldest coin</li>
</ul>
</div>


<div class="slide">
<h1>Modifying the separator.</h1>
<ul>
<pre>awk -F, '$5 !~ /USA/ {print}' money.csv</pre>
</ul>
</div>

<div class="slide">
<h1>Back to the beginning</h1>
<ul>
<pre>cat messages.txt | awk '$11=="504" { split($3,hr,":"); print $1,$2,hr[1]}'</pre>
<pre> | uniq -c</pre>
<li>What does it do?</li>
<li>Example line can be found in </li>
<a href='files/messages.txt'>messages.txt</a>
<br/>
<li>More examples in</li>
<a href='files/examples.txt'>examples.txt</a>
</ul>
</div>

</div>

</body>
</html>
